function(MAKE_TEST ANUM NAME)
	set(TEST_NAME_RUN "A${ANUM}T${NAME}R")
	set(TEST_NAME_JUDGE "A${ANUM}T${NAME}J")
	set(TEST_EXE "cecko${ANUM}")
	set(TEST_INPUT "${NAME}.c")
	set(TEST_OUTPUT "${NAME}.out")
	set(TEST_GOLD "${NAME}.${TEST_EXE}.gold")

	add_test(NAME "${TEST_NAME_RUN}" COMMAND "${TEST_EXE}" "${TEST_INPUT}" WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR})
	set_tests_properties("${TEST_NAME_RUN}" PROPERTIES PASS_REGULAR_EXPRESSION ".*${TEST_EXE} done.*")
	set_tests_properties("${TEST_NAME_RUN}" PROPERTIES FIXTURES_SETUP "${TEST_OUTPUT}")
	set_tests_properties("${TEST_NAME_RUN}" PROPERTIES TIMEOUT "5")
	set_tests_properties("${TEST_NAME_RUN}" PROPERTIES LABELS "${TEST_EXE}")
endfunction()

MAKE_TEST("1" "test1")
MAKE_TEST("1" "testla-chr-n")
MAKE_TEST("1" "testla-cmt1-n")
MAKE_TEST("1" "testla-cmt2-n")
MAKE_TEST("1" "testla-num-n")
MAKE_TEST("1" "testla-str-n")

MAKE_TEST("2" "test1")
MAKE_TEST("3" "test1")
MAKE_TEST("4" "test1")
MAKE_TEST("5" "test1")
